<!DOCTYPE html>
<html>
<head>
</head>
<body>
<textarea id="html-text" cols="30" rows="10"></textarea>

<div id="js_html"></div>

<script>
const js_thml = () => {
	let code = "";
	code += "<!DOCTYPE html>\n";
	code += "<html>\n";
	code += "<head>\n";
	code += "<title></title>\n";
	code += "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n";
	code += "<script src=\"https://cdn.jsdelivr.net/gh/miko-github/miko-github@v0.2.0/codepen.js\"><\\/script>\n";
	code += "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jsmediatags/3.9.5/jsmediatags.min.js\"><\\/script>\n";
	code += "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js\"><\\/script>\n";
	code += "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js\"><\\/script>\n";
	code += "<script src=\"https://cdn.jsdelivr.net/npm/mp3tag.js@latest/dist/mp3tag.min.js\"><\\/script>\n";
	code += "  <link rel=\"stylesheet\"  href=\"https://cdn.jsdelivr.net/gh/miko-github/miko-github@v0.2.0/codepen.scss\">\n";
	code += "  <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/hung1001/font-awesome-pro@4cac1a6/css/all.css\">\n";
	code += "\n";
	code += "\n";
	code += "<style>\n";
	code += "/* yek-sass (https://github.com/yek-org/yek-sass) */\n";
	code += "@import url(\"https://fonts.googleapis.com/css?family=Montserrat\");\n";
	code += "*,\n";
	code += "*::before,\n";
	code += "*::after {\n";
	code += "  box-sizing: border-box;\n";
	code += "  transition: 0.2s ease all;\n";
	code += "}\n";
	code += "\n";
	code += "body,\n";
	code += "html {\n";
	code += "  margin: 0;\n";
	code += "  padding: 0;\n";
	code += "  font-family: \"Montserrat\", \"sans-serif\";\n";
	code += "}\n";
	code += "\n";
	code += "body {\n";
	code += "  display: flex;\n";
	code += "  flex-direction: column;\n";
	code += "  flex-wrap: wrap;\n";
	code += "  width: 100%;\n";
	code += "  min-height: 100vh;\n";
	code += "}\n";
	code += "\n";
	code += "/* powered by yek-sass */\n";
	code += ":root {\n";
	code += "  --seek_listener_percentage: 0%;\n";
	code += "  --volume_listener_percentage: 50%;\n";
	code += "}\n";
	code += "\n";
	code += "body {\n";
	code += "  align-items: center;\n";
	code += "  justify-content: center;\n";
	code += "  align-content: center;\n";
	code += "  background: url(https://ipfs.io/ipfs/QmbnaT8qCRq7iFJyF2puVJw8FoiZM4o1TioU8u3q2eHPzv?filename=background.png);\n";
	code += "  background-repeat: no-repeat;\n";
	code += "  background-position: center;\n";
	code += "}\n";
	code += "\n";
	code += "/* +++ MAIN +++ */\n";
	code += ".music {\n";
	code += "  display: flex;\n";
	code += "  flex-direction: row;\n";
	code += "  flex-wrap: wrap;\n";
	code += "  width: 390px;\n";
	code += "  height: 180px;\n";
	code += "  align-items: center;\n";
	code += "  justify-content: center;\n";
	code += "  align-content: center;\n";
	code += "  position: relative;\n";
	code += "  border: 4px #fafcfe solid;\n";
	code += "  overflow: auto;\n";
	code += "  background-color: #f9fcff;\n";
	code += "  box-shadow: 0 4px 7px rgba(0, 46, 99, 0.3);\n";
	code += "}\n";
	code += ".music {\n";
	code += "  border-radius: 8px;\n";
	code += "}\n";
	code += ".music__main {\n";
	code += "  display: flex;\n";
	code += "  flex-direction: row;\n";
	code += "  flex-wrap: wrap;\n";
	code += "  width: 89.5%;\n";
	code += "  height: 100%;\n";
	code += "  position: relative;\n";
	code += "  padding: 0;\n";
	code += "  margin: 0;\n";
	code += "}\n";
	code += ".music__image {\n";
	code += "  border-top-right-radius: 6px;\n";
	code += "  border-bottom-right-radius: 6px;\n";
	code += "}\n";
	code += "\n";
	code += "/* +++ METADATA +++ */\n";
	code += ".music__meta {\n";
	code += "  overflow: hidden;\n";
	code += "  text-overflow: ellipsis;\n";
	code += "  white-space: nowrap;\n";
	code += "  display: flex;\n";
	code += "  flex-direction: row;\n";
	code += "  flex-wrap: wrap;\n";
	code += "  width: 60.8%;\n";
	code += "  height: 100%;\n";
	code += "  padding: 6px 24px;\n";
	code += "}\n";
	code += ".music__name {\n";
	code += "  display: flex;\n";
	code += "  flex-direction: row;\n";
	code += "  flex-wrap: wrap;\n";
	code += "  width: 100%;\n";
	code += "  height: calc(100% - 80px);\n";
	code += "}\n";
	code += ".music__title, .music__description {\n";
	code += "  overflow: hidden;\n";
	code += "  text-overflow: ellipsis;\n";
	code += "  white-space: nowrap;\n";
	code += "  width: 100%;\n";
	code += "  padding: 6px 0;\n";
	code += "}\n";
	code += ".music__title {\n";
	code += "  margin: 0;\n";
	code += "}\n";
	code += ".music__description {\n";
	code += "  font-size: 0.8rem;\n";
	code += "  color: #5b5d5b;\n";
	code += "}\n";
	code += ".music__cover {\n";
	code += "  width: 38%;\n";
	code += "  height: 100%;\n";
	code += "  display: flex;\n";
	code += "  flex-direction: row;\n";
	code += "  flex-wrap: wrap;\n";
	code += "  align-items: center;\n";
	code += "  justify-content: center;\n";
	code += "  align-content: center;\n";
	code += "}\n";
	code += ".music__image {\n";
	code += "  width: 100%;\n";
	code += "  height: 100%;\n";
	code += "  -o-object-fit: cover;\n";
	code += "\t object-fit: cover;\n";
	code += "  padding: 0;\n";
	code += "  margin: 0;\n";
	code += "}\n";
	code += "\n";
	code += "/* +++ UPLOAD +++ */\n";
	code += ".music--upload::before, .music--upload::after {\n";
	code += "  display: block;\n";
	code += "  position: absolute;\n";
	code += "  background: #f9fcff;\n";
	code += "}\n";
	code += ".music--upload::after {\n";
	code += "  width: 100%;\n";
	code += "  height: 100%;\n";
	code += "  content: \"\";\n";
	code += "  top: 0;\n";
	code += "  bottom: 0;\n";
	code += "  right: 0;\n";
	code += "  left: 0;\n";
	code += "  z-index: 90;\n";
	code += "}\n";
	code += ".music--upload::before {\n";
	code += "  width: 95%;\n";
	code += "  height: 90%;\n";
	code += "  content: \"DROP HERE...\";\n";
	code += "  top: calc(5% - 0px);\n";
	code += "  bottom: calc(5% - 0px);\n";
	code += "  left: calc(2.5% - 0px);\n";
	code += "  right: calc(2.5% - 0px);\n";
	code += "  border: 5px dashed #5c9dc0;\n";
	code += "  border-radius: 9px;\n";
	code += "  line-height: 5;\n";
	code += "  text-align: center;\n";
	code += "  vertical-align: middle;\n";
	code += "  font-size: 2rem;\n";
	code += "  font-weight: 800;\n";
	code += "  color: #002e63;\n";
	code += "  z-index: 95;\n";
	code += "}\n";
	code += ".music__uploader {\n";
	code += "  width: 100%;\n";
	code += "  height: 100%;\n";
	code += "  display: none;\n";
	code += "  position: absolute;\n";
	code += "  left: 0;\n";
	code += "  right: 0;\n";
	code += "  top: -100%;\n";
	code += "  bottom: 100%;\n";
	code += "  opacity: 0;\n";
	code += "  background: #fff;\n";
	code += "}\n";
	code += ".music__uploader--show {\n";
	code += "  display: block;\n";
	code += "  top: 0;\n";
	code += "  bottom: 0;\n";
	code += "  z-index: 99;\n";
	code += "}\n";
	code += "\n";
	code += "/* +++ CONTROLLERS +++ */\n";
	code += ".music__controller {\n";
	code += "  width: 10.5%;\n";
	code += "  height: 100%;\n";
	code += "  display: flex;\n";
	code += "  flex-direction: column;\n";
	code += "  flex-wrap: wrap;\n";
	code += "}\n";
	code += ".music__btn {\n";
	code += "  border: 0;\n";
	code += "  outline: 0;\n";
	code += "  stroke: 0;\n";
	code += "  box-shadow: 0;\n";
	code += "  width: 100%;\n";
	code += "  height: 33.33%;\n";
	code += "  cursor: pointer;\n";
	code += "  background-color: transparent;\n";
	code += "}\n";
	code += ".music__btn i {\n";
	code += "  padding: 12px;\n";
	code += "  border-radius: 5px;\n";
	code += "  will-change: text-shadow, box-shadow, transform, background-color, color, padding-right, padding-left;\n";
	code += "}\n";
	code += ".music__btn--pause i {\n";
	code += "  padding-left: 14px;\n";
	code += "  padding-right: 12px;\n";
	code += "}\n";
	code += ".music__btn:hover i {\n";
	code += "  transform: scale(1.2);\n";
	code += "  color: #5c9dc0;\n";
	code += "  background-color: #eeeeee;\n";
	code += "}\n";
	code += ".music__btn:active i {\n";
	code += "  transform: scale(0.9);\n";
	code += "}\n";
	code += "\n";
	code += "/* +++ MIXINS +++ */\n";
	code += ".music__mixin, .music__volume {\n";
	code += "  width: 50%;\n";
	code += "  height: 35px;\n";
	code += "  display: flex;\n";
	code += "  flex-direction: row;\n";
	code += "  flex-wrap: wrap;\n";
	code += "}\n";
	code += ".music__mixin {\n";
	code += "  align-items: space-between;\n";
	code += "  justify-content: space-between;\n";
	code += "  align-content: space-between;\n";
	code += "  margin-left: -6px;\n";
	code += "}\n";
	code += ".music__volume_btn, .music__shuffle, .music__repeat, .music__playlist_open {\n";
	code += "  border: 0;\n";
	code += "  outline: 0;\n";
	code += "  stroke: 0;\n";
	code += "  box-shadow: 0;\n";
	code += "  transform: scale(0.85);\n";
	code += "  transition-property: transform;\n";
	code += "  cursor: pointer;\n";
	code += "  height: 25px;\n";
	code += "  background-color: transparent;\n";
	code += "}\n";
	code += ".music__volume_btn:hover i, .music__shuffle:hover i, .music__repeat:hover i, .music__playlist_open:hover i {\n";
	code += "  transform: scale(1.2);\n";
	code += "  background-color: #eeeeee;\n";
	code += "}\n";
	code += ".music__volume_btn:active i, .music__shuffle:active i, .music__repeat:active i, .music__playlist_open:active i {\n";
	code += "  transform: scale(0.9);\n";
	code += "}\n";
	code += ".music__volume_btn i, .music__shuffle i, .music__repeat i, .music__playlist_open i {\n";
	code += "  padding: 8px;\n";
	code += "  border-radius: 9px;\n";
	code += "  will-change: transform, background-color, color, padding-right, padding-left;\n";
	code += "}\n";
	code += ".music__volume_btn--on i, .music__shuffle--on i, .music__repeat--on i, .music__playlist_open--on i {\n";
	code += "  color: #5c9dc0;\n";
	code += "}\n";
	code += ".music__shuffle, .music__repeat, .music__playlist_open {\n";
	code += "  width: 33.33%;\n";
	code += "}\n";
	code += "\n";
	code += "/* +++ SEEK/TIMES +++ */\n";
	code += ".music__times {\n";
	code += "  display: flex;\n";
	code += "  flex-direction: row;\n";
	code += "  flex-wrap: wrap;\n";
	code += "  align-items: space-between;\n";
	code += "  justify-content: space-between;\n";
	code += "  align-content: space-between;\n";
	code += "  width: 130%;\n";
	code += "  height: 25px;\n";
	code += "  color: #9a9d9a;\n";
	code += "}\n";
	code += ".music__duration, .music__current_time {\n";
	code += "  width: 45%;\n";
	code += "  overflow: hidden;\n";
	code += "  text-overflow: ellipsis;\n";
	code += "  white-space: nowrap;\n";
	code += "}\n";
	code += ".music__times, .music__duration, .music__current_time {\n";
	code += "  padding: 0;\n";
	code += "  margin: 0;\n";
	code += "  font-size: 0.8rem;\n";
	code += "}\n";
	code += ".music__duration {\n";
	code += "  text-align: right;\n";
	code += "  padding-right: 5px;\n";
	code += "}\n";
	code += ".music__current_time {\n";
	code += "  text-align: left;\n";
	code += "  padding-left: 2px;\n";
	code += "}\n";
	code += ".music__seek {\n";
	code += "  width: 100%;\n";
	code += "  background-color: #add8e6;\n";
	code += "}\n";
	code += ".music__seek_handle {\n";
	code += "  width: var(--seek_listener_percentage);\n";
	code += "  display: block;\n";
	code += "  background-color: #5c9dc0;\n";
	code += "}\n";
	code += ".music__seek, .music__seek_handle {\n";
	code += "  height: 3px;\n";
	code += "  border-radius: 9px;\n";
	code += "  transition-timing-function: ease-in-out;\n";
	code += "  cursor: pointer;\n";
	code += "  will-change: height;\n";
	code += "}\n";
	code += ".music__seek:hover, .music__seek:hover .music__seek_handle {\n";
	code += "  height: 5px;\n";
	code += "}\n";
	code += "\n";
	code += "/** +++ VOLUME +++ **/\n";
	code += ".music__volume {\n";
	code += "  align-items: center;\n";
	code += "  justify-content: center;\n";
	code += "  align-content: center;\n";
	code += "}\n";
	code += ".music__volume_btn {\n";
	code += "  width: 30%;\n";
	code += "  transform: translate(-7px, -25%);\n";
	code += "}\n";
	code += ".music__volume_range {\n";
	code += "  width: 60%;\n";
	code += "  transform: translateY(-70%);\n";
	code += "  background-color: #add8e6;\n";
	code += "}\n";
	code += ".music__volume_handle {\n";
	code += "  width: var(--volume_listener_percentage);\n";
	code += "  display: block;\n";
	code += "  background-color: #5c9dc0;\n";
	code += "}\n";
	code += ".music__volume_range, .music__volume_handle {\n";
	code += "  height: 3px;\n";
	code += "  border-radius: 9px;\n";
	code += "  transition-timing-function: ease-in-out;\n";
	code += "  cursor: pointer;\n";
	code += "}\n";
	code += "\n";
	code += "/* +++ PLAYLIST +++ */\n";
	code += ".music__playlist {\n";
	code += "  transition: 0.3s;\n";
	code += "  position: absolute;\n";
	code += "  top: 100%;\n";
	code += "  left: 0;\n";
	code += "  bottom: 100%;\n";
	code += "  right: 0;\n";
	code += "  z-index: 70;\n";
	code += "  display: none;\n";
	code += "}\n";
	code += ".music__playlist--open, .music__playlist--on {\n";
	code += "  display: block;\n";
	code += "  display: flex;\n";
	code += "  flex-direction: row;\n";
	code += "  flex-wrap: wrap;\n";
	code += "  top: 0;\n";
	code += "  bottom: 0;\n";
	code += "  background: #eeeeee;\n";
	code += "}\n";
	code += "\n";
	code += ".music__playlist,\n";
	code += ".playlist__track_list {\n";
	code += "  overflow: hidden;\n";
	code += "}\n";
	code += "\n";
	code += ".playlist__track_list {\n";
	code += "  list-style-type: none;\n";
	code += "  margin: 0;\n";
	code += "  padding: 0;\n";
	code += "  overflow-y: auto;\n";
	code += "}\n";
	code += "\n";
	code += ".playlist__close_btn {\n";
	code += "  border: 0;\n";
	code += "  outline: 0;\n";
	code += "  stroke: 0;\n";
	code += "  box-shadow: 0;\n";
	code += "  transform: scale(0.85);\n";
	code += "  transition-property: transform;\n";
	code += "  cursor: pointer;\n";
	code += "  position: absolute;\n";
	code += "  top: 5px;\n";
	code += "}\n";
	code += ".playlist__close_btn:hover i {\n";
	code += "  transform: scale(1.2);\n";
	code += "  background-color: #eeeeee;\n";
	code += "}\n";
	code += ".playlist__close_btn:active i {\n";
	code += "  transform: scale(0.9);\n";
	code += "}\n";
	code += ".playlist__track_list {\n";
	code += "  width: 100%;\n";
	code += "  height: 100%;\n";
	code += "  display: flex;\n";
	code += "  flex-direction: row;\n";
	code += "  flex-wrap: wrap;\n";
	code += "  align-items: flex-start;\n";
	code += "  justify-content: space-around;\n";
	code += "  align-content: flex-start;\n";
	code += "}\n";
	code += ".playlist__track_list:focus {\n";
	code += "  border: 0;\n";
	code += "  outline: 0;\n";
	code += "  stroke: 0;\n";
	code += "  box-shadow: 0;\n";
	code += "}\n";
	code += ".playlist__track {\n";
	code += "  display: flex;\n";
	code += "  flex-direction: row;\n";
	code += "  flex-wrap: wrap;\n";
	code += "  width: 90%;\n";
	code += "  height: 90px;\n";
	code += "  background-color: #f9fcff;\n";
	code += "  margin: 9px auto;\n";
	code += "  padding: 10px;\n";
	code += "  border-radius: 15px;\n";
	code += "}\n";
	code += ".playlist__track:hover {\n";
	code += "  background-color: #e5eff9;\n";
	code += "  cursor: pointer;\n";
	code += "}\n";
	code += ".playlist__track--current {\n";
	code += "  background: bisque;\n";
	code += "}\n";
	code += ".playlist__cover {\n";
	code += "  width: 100%;\n";
	code += "  height: 100%;\n";
	code += "  -o-object-fit: cover;\n";
	code += "\t object-fit: cover;\n";
	code += "  padding: 0;\n";
	code += "  margin: 0;\n";
	code += "  width: 70px;\n";
	code += "  height: 70px;\n";
	code += "  border-radius: 9px;\n";
	code += "}\n";
	code += ".playlist__meta {\n";
	code += "  display: flex;\n";
	code += "  flex-direction: column;\n";
	code += "  flex-wrap: wrap;\n";
	code += "  width: calc(100% - $--cover-size);\n";
	code += "  height: 100%;\n";
	code += "  align-items: flex-start;\n";
	code += "  justify-content: space-between;\n";
	code += "  align-content: flex-start;\n";
	code += "  padding: 9px;\n";
	code += "}\n";
	code += ".playlist__title, .playlist__artist {\n";
	code += "  overflow: hidden;\n";
	code += "  text-overflow: ellipsis;\n";
	code += "  white-space: nowrap;\n";
	code += "  width: 100%;\n";
	code += "  max-width: 100%;\n";
	code += "  min-width: 100%;\n";
	code += "}\n";
	code += "</style>\n";
	code += "</head>\n";
	code += "<body>\n";
	code += "\n";
	code += "\n";
	code += "<div id=\"music-player\" class=\"music music__player\">\n";
	code += "  <audio style=\"display: none\" id=\"music-audio\" src=\"https://ipfs.io/ipfs/Qmc3Dhm5MyJcnaxJcqMEaFcU4ryq3S4LcjDssiFSUyZzYV?filename=whoami.mp3\" preload=\"metadata\" volume=\"0.2\"></audio>\n";
	code += "  <input type=\"file\" multiple class=\"music__uploader\" name=\"file-audio\" id=\"file-audio\" accept=\"audio/*\" />\n";
	code += "  <div class=\"music__controller\">\n";
	code += "\t<button id=\"music-backward\" title=\"backward\" class=\"music__btn music__btn--back\">\n";
	code += "\t  <!-- ALT : fa-[step, fast, ]-backward -->\n";
	code += "\t  <i class=\"fa fa-fast-backward\"></i>\n";
	code += "\t</button>\n";
	code += "\t<button id=\"music-play\" title=\"play\" class=\"music__btn music__btn--play\">\n";
	code += "\t  <i class=\"fa fa-play\"></i>\n";
	code += "\t</button>\n";
	code += "\t<button id=\"music-forward\" title=\"forward\" class=\"music__btn music__btn--next\">\n";
	code += "\t  <!-- ALT : fa-[step, fast, ]-forward -->\n";
	code += "\t  <i class=\"fa fa-fast-forward\"></i>\n";
	code += "\t</button>\n";
	code += "  </div>\n";
	code += "  <div class=\"music__main\">\n";
	code += "\t<div id=\"music-playlist\" class=\"music__playlist\">\n";
	code += "\t  <button type=\"button\" id=\"playlist-close-btn\" class=\"playlist__close_btn\">\n";
	code += "\t\t<i class=\"fa fa-times\"></i>\n";
	code += "\t  </button>\n";
	code += "\t  <ul class=\"playlist__track_list\" id=\"playlist-tracks\" tabindex=\"0\"></ul>\n";
	code += "\t</div>\n";
	code += "\t<div class=\"music__meta\">\n";
	code += "\t  <div class=\"music__name\">\n";
	code += "\t\t<h3 id=\"music-title\" class=\"music__title\">Who am I</h3>\n";
	code += "\t\t<span id=\"music-desc\" class=\"music__description\">\n";
	code += "\t\t  Necksmile\n";
	code += "\t\t</span>\n";
	code += "\t  </div>\n";
	code += "\n";
	code += "\t  <div class=\"music__mixin\">\n";
	code += "\t\t<!-- STATE : --[off | on: [once | all]] -->\n";
	code += "\t\t<button id=\"music-repeat\" class=\"music__repeat music__repeat--on music__repeat--all\">\n";
	code += "\t\t  <!-- ALT : fa-[repeat, sync, sync-alt, retweet, retweet-alt, redo, redo-alt] -->\n";
	code += "\t\t  <i class=\"fa fa-repeat\"></i>\n";
	code += "\t\t</button>\n";
	code += "\t\t<!-- STATE : --[off | on] -->\n";
	code += "\t\t<button id=\"music-shuffle\" class=\"music__shuffle\">\n";
	code += "\t\t  <i class=\"fa fa-random\"></i>\n";
	code += "\t\t</button>\n";
	code += "\t\t<!-- STATE : --[off | on] -->\n";
	code += "\t\t<button id=\"music-playlist-open\" class=\"music__playlist_open\">\n";
	code += "\t\t  <i class=\"fa fa-list-music\"></i>\n";
	code += "\t\t</button>\n";
	code += "\t  </div>\n";
	code += "\t  <div class=\"music__volume\" title=\"50%\">\n";
	code += "\t\t<button id=\"music-volume-btn\" class=\"music__volume_btn\">\n";
	code += "\t\t  <i class=\"fa fa-volume\"></i>\n";
	code += "\t\t</button>\n";
	code += "\t\t<div id=\"music-volume\" class=\"music__volume_range\">\n";
	code += "\t\t  <span class=\"music__volume_handle\"></span>\n";
	code += "\t\t</div>\n";
	code += "\t  </div>\n";
	code += "\n";
	code += "\t  <div class=\"music__times\">\n";
	code += "\t\t<div id=\"music-seek\" class=\"music__seek\">\n";
	code += "\t\t  <span class=\"music__seek_handle\"></span>\n";
	code += "\t\t</div>\n";
	code += "\t\t<span id=\"music-current-time\" class=\"music__current_time\">\n";
	code += "\t\t  00:00:00\n";
	code += "\t\t</span>\n";
	code += "\t\t<span id=\"music-duration\" class=\"music__duration\">02:33</span>\n";
	code += "\t  </div>\n";
	code += "\t</div>\n";
	code += "\t<div class=\"music__cover\">\n";
	code += "\t  <img id=\"music-cover\" class=\"music__image\" src=\"https://ipfs.io/ipfs/QmScNBjnJ7SF7zBf95DXC1RpETBmB9i71tSgAwzkM3jrjD?filename=album.png\" alt=\"mini music player - miko-github\" />\n";
	code += "\t</div>\n";
	code += "  </div>\n";
	code += "</div>\n";
	code += "\n";
	code += "\n";
	code += "\n";
	code += "\n";
	code += "<script>\n";
	code += "\n";
	code += "const $_player = query(\"#music-player\");\n";
	code += "const $_file = query(\"#file-audio\");\n";
	code += "const $_play = query(\"#music-play\");\n";
	code += "const $_forward = query(\"#music-forward\");\n";
	code += "const $_backward = query(\"#music-backward\");\n";
	code += "const $_seek = query(\"#music-seek\");\n";
	code += "const $_volume = query(\"#music-volume\");\n";
	code += "const $_volume_btn = query(\"#music-volume-btn\");\n";
	code += "const $_duration = query(\"#music-duration\");\n";
	code += "const $_currentTime = query(\"#music-current-time\");\n";
	code += "const $_trackName = query(\"#music-title\");\n";
	code += "const $_artist = query(\"#music-desc\");\n";
	code += "const $_repeat = query(\"#music-repeat\");\n";
	code += "const $_shuffle = query(\"#music-shuffle\");\n";
	code += "const $_playlist_open = query(\"#music-playlist-open\");\n";
	code += "const $_playlist_close = query(\"#playlist-close-btn\");\n";
	code += "const $_playlist = query(\"#music-playlist\");\n";
	code += "const $_playlist_tracks = query(\"#playlist-tracks\");\n";
	code += "const $audio = query(\"#music-audio\");\n";
	code += "// is-state\n";
	code += "const state = {\n";
	code += "  lastVolume: 0.5,\n";
	code += "  currentTrackIndex: 0,\n";
	code += "  repeatCount: 2,\n";
	code += "  isShuffle: false,\n";
	code += "  isPlaylist: false,\n";
	code += "  playlist: {\n";
	code += "\tcurrentItem: null\n";
	code += "  }\n";
	code += "};\n";
	code += "const defaultTrack = {\n";
	code += "  // id: (() => trackList.slice(-1).id + 1)(),\n";
	code += "  cover: `https://www.iphonefaq.org/files/styles/large/public/apple_music.jpg?itok=nqYGxWgh`,\n";
	code += "  title: `Unknown`,\n";
	code += "  artist: `unknown`\n";
	code += "};\n";
	code += "const fixPath = `https://raw.githubusercontent.com/miko-github/miko-github/gh_assets/assets/sounds`;\n";
	code += "// TODO : use online src link\n";
	code += "// NOTE : artist can be array of artist [a, b, ...] also\n";
	code += "let trackList = [\n";
	code += "  {\n";
	code += "\tid: 0,\n";
	code += "\ttitle: `Who Am I`,\n";
	code += "\tsrc: `https://ipfs.io/ipfs/Qmc3Dhm5MyJcnaxJcqMEaFcU4ryq3S4LcjDssiFSUyZzYV?filename=whoami.mp3`,\n";
	code += "\tartist: `Necksmile`,\n";
	code += "\t\n";
	code += "  },\n";
	code += "  {\n";
	code += "\tid: 1,\n";
	code += "\ttitle: `Magoo`,\n";
	code += "\tsrc: `https://ipfs.io/ipfs/QmQHXp2TH64WCcTMX6KXAztQAViJpXUN1ftKBa4SFCrrmt?filename=magoo.mp3`,\n";
	code += "\tartist: `Necksmile`,\n";
	code += "\tcover: `https://ipfs.io/ipfs/QmScNBjnJ7SF7zBf95DXC1RpETBmB9i71tSgAwzkM3jrjD?filename=album.png`\n";
	code += "  },\n";
	code += "  {\n";
	code += "\tid: 2,\n";
	code += "\ttitle: `Long As I Live`,\n";
	code += "\tsrc: `https://ipfs.io/ipfs/QmfC8bmdCpMHCTK2ktYJRZoBLvUwne4Cr2DM1FBYFKSCWd?filename=longasilive.mp3`,\n";
	code += "\tartist: `Necksmile`,\n";
	code += "\tcover: `https://ipfs.io/ipfs/QmScNBjnJ7SF7zBf95DXC1RpETBmB9i71tSgAwzkM3jrjD?filename=album.png`\n";
	code += "  },\n";
	code += "  {\n";
	code += "\tid: 3,\n";
	code += "\ttitle: `All Systems Go`,\n";
	code += "\tsrc: `https://ipfs.io/ipfs/Qme691yfgimEQgy6SdBNfWsZzcypsZyK8T24guNVrzgmMv?filename=allsystemsgo.mp3`,\n";
	code += "\tartist: `Necksmile`,\n";
	code += "\tcover: `https://ipfs.io/ipfs/QmScNBjnJ7SF7zBf95DXC1RpETBmB9i71tSgAwzkM3jrjD?filename=album.png`\n";
	code += "  },\n";
	code += "  {\n";
	code += "\tid: 4,\n";
	code += "\ttitle: `Battleship Inferior`,\n";
	code += "\tsrc: `https://ipfs.io/ipfs/Qmf9j5brZipL7UzDZqnqeByY182o9QNG8jBBbaGx6bk2AQ?filename=battleshipinferior.mp3`,\n";
	code += "\tartist: `Necksmile`,\n";
	code += "\tcover: `https://ipfs.io/ipfs/QmScNBjnJ7SF7zBf95DXC1RpETBmB9i71tSgAwzkM3jrjD?filename=album.png`\n";
	code += "  },\n";
	code += "  {\n";
	code += "\tid: 5,\n";
	code += "\ttitle: `Canvas`,\n";
	code += "\tsrc: `https://ipfs.io/ipfs/QmbwCUWzjJJxQcbXsAhi6E9Qphf2xS7pxni7jRuJukeFJK?filename=canvas.mp3`,\n";
	code += "\tartist: `Necksmile`,\n";
	code += "\tcover: `https://ipfs.io/ipfs/QmScNBjnJ7SF7zBf95DXC1RpETBmB9i71tSgAwzkM3jrjD?filename=album.png`\n";
	code += "  },\n";
	code += "  {\n";
	code += "\tid: 6,\n";
	code += "\ttitle: `Cold`,\n";
	code += "\tsrc: `https://ipfs.io/ipfs/QmNM9aYqLDRUZr4sd6G3dik2NHEKVQVSHKvUZ9eQ4nQ3zq?filename=cold.mp3`,\n";
	code += "\tartist: `Necksmile`,\n";
	code += "\tcover: `https://ipfs.io/ipfs/QmScNBjnJ7SF7zBf95DXC1RpETBmB9i71tSgAwzkM3jrjD?filename=album.png`\n";
	code += "  },\n";
	code += "  {\n";
	code += "\tid: 7,\n";
	code += "\ttitle: `Have My Fist`,\n";
	code += "\tsrc: `https://ipfs.io/ipfs/QmXiXK7UKmc4PJS38xQ8JUiKYUbyWzjxcfJHoG5k5rHP4m?filename=havemyfist.mp3`,\n";
	code += "\tartist: `Necksmile`,\n";
	code += "\tcover: `https://ipfs.io/ipfs/QmScNBjnJ7SF7zBf95DXC1RpETBmB9i71tSgAwzkM3jrjD?filename=album.png`\n";
	code += "  },\n";
	code += "  {\n";
	code += "\tid: 8,\n";
	code += "\ttitle: `Stuck Pig`,\n";
	code += "\tsrc: `https://ipfs.io/ipfs/QmctM2E9MQJrN6hiPBZkMFMic4VqpFErKUDLAnRADARYeG?filename=stuckpig.mp3`,\n";
	code += "\tartist: `Necksmile`,\n";
	code += "\tcover: `https://ipfs.io/ipfs/QmScNBjnJ7SF7zBf95DXC1RpETBmB9i71tSgAwzkM3jrjD?filename=album.png`\n";
	code += "  },\n";
	code += "  {\n";
	code += "\tid: 9,\n";
	code += "\ttitle: `The Longing`,\n";
	code += "\tsrc: `https://ipfs.io/ipfs/QmPg2wpREHAB7q53ZpVN2S5aruuZuyPUuSvbiz8H9th7Bq?filename=thelonging.mp3`,\n";
	code += "\tartist: `Necksmile`,\n";
	code += "\tcover: `https://ipfs.io/ipfs/QmScNBjnJ7SF7zBf95DXC1RpETBmB9i71tSgAwzkM3jrjD?filename=album.png`\n";
	code += "  },\n";
	code += "  {\n";
	code += "\tid: 10,\n";
	code += "\ttitle: `Wake Up - Coheed Cover`,\n";
	code += "\tsrc: `https://ipfs.io/ipfs/QmXK2Y323gAs6EaggzoRFjptgJ5KzzxsaPcdM7guaTzpAR?filename=wakeupcoheed.mp3`,\n";
	code += "\tartist: `Necksmile`,\n";
	code += "\tcover: `https://ipfs.io/ipfs/QmScNBjnJ7SF7zBf95DXC1RpETBmB9i71tSgAwzkM3jrjD?filename=album.png`\n";
	code += "  },\n";
	code += "];\n";
	code += "  \n";
	code += "// +++ HELPER FUNCTIONS +++ //\n";
	code += "\n";
	code += "function fixArtist(artist) {\n";
	code += "  if (isType(artist, \"array\")) return artist.join(\" & \");\n";
	code += "  return artist;\n";
	code += "}\n";
	code += "function stopTrack() {\n";
	code += "  $audio.pause();\n";
	code += "  $audio.currentTime = 0;\n";
	code += "  fixVariable(\"seek_listener_percentage\", `0%`);\n";
	code += "}\n";
	code += "function goShuffle() {\n";
	code += "  let shuffleIndex = fixRandom(0, trackList.length - 1);\n";
	code += "  let selectedTrack = trackList[shuffleIndex];\n";
	code += "  // $audio.pause();\n";
	code += "  updateMetaData(selectedTrack.src);\n";
	code += "  $audio.play();\n";
	code += "  return selectedTrack;\n";
	code += "}\n";
	code += "\n";
	code += "function goForward() {\n";
	code += "  if (state.isShuffle) return goShuffle();\n";
	code += "\n";
	code += "  if (state.isPlaylist) goCurrentPlaylistItem();\n";
	code += "\n";
	code += "  // FIXME : `$audio.pause();` should be before changes\n";
	code += "  state.currentTrackIndex +=\n";
	code += "\tstate.currentTrackIndex + 1 >= trackList.length\n";
	code += "\t  ? -(trackList.length - 1)\n";
	code += "\t  : 1;\n";
	code += "  updateMetaData(trackList[state.currentTrackIndex].src);\n";
	code += "  $audio.play();\n";
	code += "}\n";
	code += "function goBackward() {\n";
	code += "  if (state.isShuffle) return goShuffle();\n";
	code += "\n";
	code += "  if (state.isPlaylist) goCurrentPlaylistItem();\n";
	code += "\n";
	code += "  // FIXME : `$audio.pause();` should be before changes and play\n";
	code += "  state.currentTrackIndex -=\n";
	code += "\tstate.currentTrackIndex - 1 < 0 ? -(trackList.length - 1) : 1;\n";
	code += "  updateMetaData(trackList[state.currentTrackIndex].src);\n";
	code += "  $audio.play();\n";
	code += "}\n";
	code += "function updateMetaData(src) {\n";
	code += "  let currentTrack = trackList[state.currentTrackIndex];\n";
	code += "  $_trackName.textContent = currentTrack.title || defaultTrack.title;\n";
	code += "  $_artist.textContent = fixArtist(currentTrack.artist) || defaultTrack.artist;\n";
	code += "  $_cover.setAttribute(\"src\", currentTrack.cover || defaultTrack.cover);\n";
	code += "  return src && $audio.setAttribute(\"src\", src);\n";
	code += "}\n";
	code += "function updateRepeat({ repeatCount }) {\n";
	code += "  // TODO : refactor\n";
	code += "  switch (repeatCount) {\n";
	code += "\tcase 2:\n";
	code += "\tdefault:\n";
	code += "\t  $_repeat.className.indexOf(\"music__repeat--once\") != -1 &&\n";
	code += "\t\t$_repeat.classList.remove(\"music__repeat--once\");\n";
	code += "\t  $_repeat.className.indexOf(\"music__repeat--on\") == -1 &&\n";
	code += "\t\t$_repeat.classList.add(\"music__repeat--on\");\n";
	code += "\t  $_repeat.classList.add(\"music__repeat--all\");\n";
	code += "\t  break;\n";
	code += "\tcase 0:\n";
	code += "\t  $_repeat.className.indexOf(\"music__repeat--all\") != -1 &&\n";
	code += "\t\t$_repeat.classList.remove(\"music__repeat--all\");\n";
	code += "\t  $_repeat.className.indexOf(\"music__repeat--once\") != -1 &&\n";
	code += "\t\t$_repeat.classList.remove(\"music__repeat--once\");\n";
	code += "\t  $_repeat.className.indexOf(\"music__repeat--on\") != -1 &&\n";
	code += "\t\t$_repeat.classList.remove(\"music__repeat--on\");\n";
	code += "\t  break;\n";
	code += "\tcase 1:\n";
	code += "\t  $_repeat.className.indexOf(\"music__repeat--all\") != -1 &&\n";
	code += "\t\t$_repeat.classList.remove(\"music__repeat--all\");\n";
	code += "\t  $_repeat.className.indexOf(\"music__repeat--on\") == -1 &&\n";
	code += "\t\t$_repeat.classList.add(\"music__repeat--on\");\n";
	code += "\t  $_repeat.classList.add(\"music__repeat--once\");\n";
	code += "\t  break;\n";
	code += "  }\n";
	code += "\n";
	code += "  return repeatCount === 1\n";
	code += "\t? $_repeat.firstElementChild.classList.replace(\"fa-repeat\", \"fa-repeat-1\")\n";
	code += "\t: $_repeat.firstElementChild.classList.replace(\"fa-repeat-1\", \"fa-repeat\");\n";
	code += "}\n";
	code += "\n";
	code += "function goCurrentPlaylistItem() {\n";
	code += "  let $currentItem = [...$_playlist_tracks.children].filter(\n";
	code += "\t($track) =>\n";
	code += "\t  parseInt($track.dataset.id) == trackList[state.currentTrackIndex].id\n";
	code += "  )[0];\n";
	code += "  [...$_playlist_tracks.children].map(\n";
	code += "\t($track) =>\n";
	code += "\t  $track.className.indexOf(\"playlist__track--current\") != -1 &&\n";
	code += "\t  $track.classList.remove(\"playlist__track--current\")\n";
	code += "  );\n";
	code += "  $currentItem.className.indexOf(\"playlist__track--current\") == -1 &&\n";
	code += "\t$currentItem.classList.add(\"playlist__track--current\");\n";
	code += "  $currentItem.scrollIntoView({\n";
	code += "\tbehavior: \"smooth\",\n";
	code += "\tblock: \"start\",\n";
	code += "\tinline: \"nearest\"\n";
	code += "  });\n";
	code += "}\n";
	code += "function muteVolume() {\n";
	code += "  let $this = $_volume_btn.firstElementChild;\n";
	code += "  fixVariable(\"volume_listener_percentage\", `0%`);\n";
	code += "  $this.classList.remove(\"fa-volume\");\n";
	code += "  $this.classList.add(\"fa-volume-mute\");\n";
	code += "  $audio.volume = 0;\n";
	code += "}\n";
	code += "function unMuteVolume() {\n";
	code += "  let $this = $_volume_btn.firstElementChild;\n";
	code += "  fixVariable(\n";
	code += "\t\"volume_listener_percentage\",\n";
	code += "\t`${fixFloat(state.lastVolume * 100, 3)}%`\n";
	code += "  );\n";
	code += "  $audio.volume = state.lastVolume;\n";
	code += "  $this.classList.remove(\"fa-volume-mute\");\n";
	code += "  $this.classList.add(\"fa-volume\");\n";
	code += "}\n";
	code += "\n";
	code += "// listener(window, 'load', () => ($audio.volume = 0.5));\n";
	code += "\n";
	code += "// TODO : playlist\n";
	code += "function generatePlaylist(tracks = trackList) {\n";
	code += "  const playlistItem = ({ id, src, cover, title, artist }) => {\n";
	code += "\tconst bem = \"playlist\";\n";
	code += "\treturn createElement(\n";
	code += "\t  \"li\",\n";
	code += "\t  {\n";
	code += "\t\tclass: `${bem}__track`,\n";
	code += "\t\tid: `playlist-track-${id}`,\n";
	code += "\t\t\"data-src\": src,\n";
	code += "\t\t\"data-id\": id\n";
	code += "\t  },\n";
	code += "\t  [\n";
	code += "\t\tcreateElement(\"img\", {\n";
	code += "\t\t  src: cover,\n";
	code += "\t\t  class: `${bem}__cover`,\n";
	code += "\t\t  alt: `cover of ${title} from ${fixArtist(artist)}`\n";
	code += "\t\t}),\n";
	code += "\t\tcreateElement(\"div\", { class: `${bem}__meta` }, [\n";
	code += "\t\t  // TOGGLE : [h3:strong]\n";
	code += "\t\t  createElement(\"strong\", { class: `${bem}__title` }, title),\n";
	code += "\t\t  createElement(\"span\", { class: `${bem}__artist` }, fixArtist(artist))\n";
	code += "\t\t])\n";
	code += "\t  ]\n";
	code += "\t);\n";
	code += "  };\n";
	code += "  let $tracks = tracks.map((track) => playlistItem(track));\n";
	code += "  $tracks.map(($track) => append($_playlist_tracks, $track));\n";
	code += "  return goCurrentPlaylistItem();\n";
	code += "}\n";
	code += "\n";
	code += "// +++ EVENT HANDLERS +++ //\n";
	code += "\n";
	code += "// [playlist]:click\n";
	code += "listener($_playlist_open, \"click\", () => {\n";
	code += "  state.isPlaylist = true;\n";
	code += "  $_playlist.classList.add(\"music__playlist--on\");\n";
	code += "  return generatePlaylist();\n";
	code += "});\n";
	code += "listener($_playlist_close, \"click\", () => {\n";
	code += "  state.isPlaylist = false;\n";
	code += "  $_playlist_tracks.innerHTML = ``;\n";
	code += "  $_playlist.classList.remove(\"music__playlist--on\");\n";
	code += "});\n";
	code += "\n";
	code += "// [repeat-btn]:click\n";
	code += "listener($_repeat, \"click\", () => {\n";
	code += "  state.repeatCount -= state.repeatCount - 1 < 0 ? -2 : 1;\n";
	code += "  updateRepeat(state);\n";
	code += "});\n";
	code += "// [shuffle-btn]:click\n";
	code += "listener($_shuffle, \"click\", () => {\n";
	code += "  $_shuffle.classList.toggle(\"music__shuffle--on\");\n";
	code += "  state.isShuffle = !state.isShuffle;\n";
	code += "});\n";
	code += "\n";
	code += "// [file]:change\n";
	code += "listener($_file, \"change\", () => {\n";
	code += "  // $audio.pause();\n";
	code += "  [...Array($_file.files.length).keys()].forEach((index) => {\n";
	code += "\tlet file = $_file.files[index];\n";
	code += "\tlet src = URL.createObjectURL(file);\n";
	code += "\tfetchMetadata(file, (tags) => {\n";
	code += "\t  let track = {\n";
	code += "\t\tid: (() => trackList[trackList.length - 1].id + 1)(),\n";
	code += "\t\ttitle: tags.title,\n";
	code += "\t\tcover: tags.picture && fetchCover(tags.picture),\n";
	code += "\t\tartist: tags.artist,\n";
	code += "\t\tsrc\n";
	code += "\t  };\n";
	code += "\t  trackList.push(track);\n";
	code += "\t});\n";
	code += "\tupdateMetaData(src);\n";
	code += "  });\n";
	code += "  $audio.play();\n";
	code += "});\n";
	code += "\n";
	code += "// ALT\n";
	code += "/*\n";
	code += "listener($_file, 'change', () => {\n";
	code += "  $audio.pause();\n";
	code += "  [...Array($_file.files.length).keys()].forEach((index) => {\n";
	code += "\tlet file = $_file.files[index];\n";
	code += "\tlet src = URL.createObjectURL(file);\n";
	code += "\tfetchMetadata2(file, (tags) => {\n";
	code += "\t  let track = {\n";
	code += "\t\tid: (() => trackList[trackList.length - 1].id + 1)(),\n";
	code += "\t\ttitle: tags.title,\n";
	code += "\t\tcover: tags.v2.APIC[0] && fetchCover(tags.v2.APIC[0]),\n";
	code += "\t\tartist: tags.v2.TPE1,\n";
	code += "\t\tsrc,\n";
	code += "\t  };\n";
	code += "\t  trackList.push(track);\n";
	code += "\t});\n";
	code += "\tupdateMetaData(src);\n";
	code += "  });\n";
	code += "  $audio.play();\n";
	code += "});\n";
	code += "*/\n";
	code += "\n";
	code += "// [file]:drag/drop\n";
	code += "window.ondragenter = (e) => {\n";
	code += "  // $audio.pause();\n";
	code += "  $_file.classList.add(\"music__uploader--show\");\n";
	code += "  $_player.classList.add(\"music--upload\");\n";
	code += "};\n";
	code += "$_player.ondrop = () => {\n";
	code += "  $audio.play();\n";
	code += "  $_file.classList.remove(\"music__uploader--show\");\n";
	code += "  $_player.classList.remove(\"music--upload\");\n";
	code += "};\n";
	code += "\n";
	code += "// [audio]:play\n";
	code += "listener($audio, \"playing\", () => updateMetaData());\n";
	code += "\n";
	code += "// [audio]:canplaythrough\n";
	code += "listener(\n";
	code += "  $audio,\n";
	code += "  \"durationchange\",\n";
	code += "  () => ($_duration.textContent = fixMoment($audio.duration))\n";
	code += ");\n";
	code += "\n";
	code += "// [audio]:time-update\n";
	code += "listener(\n";
	code += "  $audio,\n";
	code += "  \"timeupdate\",\n";
	code += "  () => ($_currentTime.textContent = fixMoment($audio.currentTime))\n";
	code += ");\n";
	code += "\n";
	code += "// [auido]:time-update\n";
	code += "listener($audio, \"timeupdate\", () => {\n";
	code += "  let percentage = fixPercentage(\n";
	code += "\tparseFloat($audio.currentTime),\n";
	code += "\tparseFloat($audio.duration)\n";
	code += "  );\n";
	code += "  fixVariable(\"seek_listener_percentage\", `${percentage}%`);\n";
	code += "});\n";
	code += "\n";
	code += "// [seek]:seeked\n";
	code += "listener($_seek, \"mousedown\", () => $audio.pause());\n";
	code += "listener($_seek, \"mouseup\", () => $audio.play());\n";
	code += "listener($_seek, \"click\", (ev) => {\n";
	code += "  let { offsetX: value } = ev;\n";
	code += "  let { offsetWidth: max } = $_seek;\n";
	code += "  // calc motion\n";
	code += "  let percentage = fixPercentage(value, max);\n";
	code += "  // TOGGLE\n";
	code += "  fixVariable(\"seek_listener_percentage\", `${percentage}%`);\n";
	code += "  // calc value\n";
	code += "  let amount = fixFloat((percentage / 100) * parseFloat($audio.duration), 3);\n";
	code += "  $audio.currentTime = amount;\n";
	code += "});\n";
	code += "\n";
	code += "// [volume]:seeked\n";
	code += "listener($_volume, \"click\", (ev) => {\n";
	code += "  let { offsetX: value } = ev;\n";
	code += "  let { offsetWidth: max } = $_volume;\n";
	code += "  // calc motion\n";
	code += "  let percentage = fixPercentage(value, max);\n";
	code += "  // TOGGLE\n";
	code += "  fixVariable(\"volume_listener_percentage\", `${percentage}%`);\n";
	code += "  // calc value\n";
	code += "  let amount = fixFloat(percentage / 100, 3);\n";
	code += "  if ($audio.volume <= 0.1) return muteVolume();\n";
	code += "  $audio.volume = amount;\n";
	code += "});\n";
	code += "listener($audio, \"volumechange\", () => {\n";
	code += "  $_volume.setAttribute(`title`, `${fixFloat($audio.volume * 100, 3)}%`);\n";
	code += "});\n";
	code += "listener($_volume_btn, \"click\", () => {\n";
	code += "  $_volume_btn.firstElementChild.className.indexOf(`fa-volume-mute`) != -1\n";
	code += "\t? unMuteVolume()\n";
	code += "\t: (() => {\n";
	code += "\t\tstate.lastVolume = $audio.volume >= 0.1 ? $audio.volume : 0.1;\n";
	code += "\t\tmuteVolume();\n";
	code += "\t  })();\n";
	code += "});\n";
	code += "\n";
	code += "// [backward]:click\n";
	code += "listener($_backward, \"click\", () => goBackward());\n";
	code += "\n";
	code += "// [forward]:click\n";
	code += "listener($_forward, \"click\", () => goForward());\n";
	code += "\n";
	code += "listener(\n";
	code += "  $audio,\n";
	code += "  \"ended\",\n";
	code += "  () =>\n";
	code += "\t// repeat-all-track\n";
	code += "\t(state.repeatCount === 2 && $audio.play()) ||\n";
	code += "\t// repeat-once-track\n";
	code += "\t(state.repeatCount !== 1 && goForward()) ||\n";
	code += "\t// dont-repeat\n";
	code += "\tstopTrack()\n";
	code += ");\n";
	code += "\n";
	code += "// [play]:click\n";
	code += "listener($_play, \"click\", () =>\n";
	code += "  $audio.paused ? $audio.play() : $audio.pause()\n";
	code += ");\n";
	code += "\n";
	code += "// [audio]:play\n";
	code += "listener($audio, \"play\", () => {\n";
	code += "  $_play.setAttribute(\"title\", \"play\");\n";
	code += "  $_play.classList.replace(`music__btn--pause`, `music__btn--play`);\n";
	code += "  $_play.children.item(0).classList.replace(\"fa-play\", \"fa-pause\");\n";
	code += "});\n";
	code += "\n";
	code += "// [audio]:pause\n";
	code += "listener($audio, \"pause\", () => {\n";
	code += "  $_play.setAttribute(\"title\", \"pause\");\n";
	code += "  $_play.classList.replace(`music__btn--play`, `music__btn--pause`);\n";
	code += "  $_play.children.item(0).classList.replace(\"fa-pause\", \"fa-play\");\n";
	code += "});\n";
	code += "\n";
	code += "// +++ VENDORS +++ //\n";
	code += "\n";
	code += "// NOTE : src from `https://cdnjs.cloudflare.com/ajax/libs/jsmediatags/3.9.5/jsmediatags.min.js`\n";
	code += "function fetchMetadata(audio, cb) {\n";
	code += "  jsmediatags.read(audio, {\n";
	code += "\tonSuccess: ({ tags }) => cb(tags),\n";
	code += "\tonError: function (error) {\n";
	code += "\t  console.log(error);\n";
	code += "\t}\n";
	code += "  });\n";
	code += "}\n";
	code += "\n";
	code += "// FIXME : need to sync with other codes\n";
	code += "// NOTE : src from `https://cdn.jsdelivr.net/npm/mp3tag.js@latest/dist/mp3tag.min.js`\n";
	code += "function fetchMetadata2(url, cb) {\n";
	code += "  const reader = new FileReader();\n";
	code += "  reader.onload = function () {\n";
	code += "\tconst buffer = this.result;\n";
	code += "\t// MP3Tag Usage\n";
	code += "\tconst mp3tag = new MP3Tag(buffer);\n";
	code += "\tmp3tag.read();\n";
	code += "\tcb(mp3tag.tags);\n";
	code += "  };\n";
	code += "  reader.readAsArrayBuffer(url);\n";
	code += "}\n";
	code += "\n";
	code += "function fetchCover({ data, format }) {\n";
	code += "  let base64String = \"\";\n";
	code += "  for (let item of data) {\n";
	code += "\tbase64String += String.fromCharCode(item);\n";
	code += "  }\n";
	code += "  return `data:${data.format};base64,${window.btoa(base64String)}`;\n";
	code += "}\n";
	code += "\n";
	code += "function fixFloat(value, decimals) {\n";
	code += "  return Number(`${Math.round(`${value}e${decimals}`)}e-${decimals}`);\n";
	code += "}\n";
	code += "\n";
	code += "function fixPad(number) {\n";
	code += "  let num = parseInt(number);\n";
	code += "  return num >= 0 && num <= 9 ? `0${num}` : num;\n";
	code += "}\n";
	code += "\n";
	code += "function fixPercentage(value, total) {\n";
	code += "  return fixFloat((value / total) * 100, 3);\n";
	code += "}\n";
	code += "\n";
	code += "function fixMoment(time) {\n";
	code += "  let $time = moment.duration(parseInt(time), \"seconds\");\n";
	code += "  let hour = $time.hours();\n";
	code += "  let min = $time.minutes();\n";
	code += "  let sec = $time.seconds();\n";
	code += "  let _hour = hour > 0 ? `${fixPad(hour)} : ` : ``;\n";
	code += "  let _min_sec = `${fixPad(min)} : ${fixPad(sec)}`;\n";
	code += "  return `${_hour}${_min_sec}`;\n";
	code += "}\n";
	code += "\n";
	code += "function fixVariable(variable, value) {\n";
	code += "  document.documentElement.style.setProperty(`--${variable}`, value);\n";
	code += "}\n";
	code += "\n";
	code += "// FIXME : need to use new methods\n";
	code += "function fixBase64(url, cb) {\n";
	code += "  const xhr = new XMLHttpRequest();\n";
	code += "  xhr.open(\"GET\", url, true);\n";
	code += "  xhr.responseType = `blob` || \"arraybuffer\";\n";
	code += "  xhr.onload = function () {\n";
	code += "\t// NOTE : metadata as callback, response is `arrayBuffer`\n";
	code += "\tif (xhr.status === 200) return cb(xhr.response);\n";
	code += "\treturn console.log(`[fixBase64] : xhr error!`);\n";
	code += "  };\n";
	code += "  xhr.onerror = () => console.log(`[fixBase64] : network error!`);\n";
	code += "  xhr.send();\n";
	code += "}\n";
	code += "\n";
	code += "function fixRandom(min, max) {\n";
	code += "  let _min = max ? min : 0;\n";
	code += "  let _max = max || min;\n";
	code += "  return Math.floor(Math.random() * (_max - _min + 1)) + _min;\n";
	code += "}\n";
	code += "\n";
	code += "<\\/script>\n";
	code += "</body>\n";
	code += "</html>\n";
	return code;
}


document.getElementById("js_html").innerText = js_thml();
document.getElementById("html-text").value = js_thml();

</script>

</body>
</html>